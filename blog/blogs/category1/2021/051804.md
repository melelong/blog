---
title: js数组方法
date: 2021-05-18
tags:
 - js
categories: 
 - 技术
---

## 操作数组的方法
```
不改变原数组：
 slice 截取数组
 concat 联合数组 
 join 将转换成字符串
 forEach map filter reduce 不改变原数组

改变原数组：
 push unshift 返回数组的长度
 pop shift 返回删除的元素，参数无用
 reverse 返回反置的数组  sort 排序数组
 splice 截取数组的同时，还会插入数据，返回的值为截取出来的元素

```
```js
// 1. array.push(item1, item2, …, itemX) 
// 可以将一个或者更多的参数添加在数组的尾部；返回添加后的数组的长度，原数组发生改变。
var arr = [1,2,3,4]
var a = arr.push(9,8,7)
console.log('a='+a+' arr='+arr)  // a=7 arr=1,2,3,4,9,8,7

// 2. array.pop()
// 从数组尾部删除一个元素，返回这个被删除的元素，原数组发生改变。
var arr = [4,3,2,3]
var a = arr.pop()
console.log('a='+a+' arr='+arr) // a=3 arr=4,3,2

// 3. array.unshift(item1,item2, …, itemX)
// 可以将一个或者更多的参数添加在数组的头部；返回添加后的数组的长度，原数组发生改变。
var arr = [1,2,3,4]
var a = arr.unshift(9,8,7)
console.log('a='+a+' arr='+arr) // a=7 arr=9,8,7,1,2,3,4

// 4. array.shift()   参数无用
// 从数组头部删除一个元素，返回这个被删除的元素，原数组发生改变。
var arr = [4,3,2,3]
var a = arr.shift()
console.log('a='+a+' arr='+arr)  // a=4 arr=3,2,3

// 5. array.slice(start, end)   //不改变原数组
// a.如果不传参数，会返回原数组
// b.如果一个参数，从该参数表示的索引开始截取，直至数组结束，返回这个截取数组
// c.如果两个参数，从第一个参数对应的索引开始截取，到第二个参数对应的索引结束，start包含，end不包含
var fruits = ["Banana", "Orange", "Lemon", "Apple", "Mango"]
var citrus = fruits.slice(1,3)
console.log(citrus)  // ["Orange","Lemon"]

// 6. array.splice(index,howmany,item1,…,itemX)
// a.没有参数，返回空数组，原数组不变
// b.一个参数，从该参数表示的索引位开始截取，直至数组结束，返回截取的数组，原数组改变；
// c.两个参数，第一个参数表示开始截取的索引位，第二个参数表示截取的长度，返回截取的 数组，原数组改变；
// d.三个或者更多参数，第三个及以后的参数表示要从截取位插入的值。
var fruits = ["Banana", "Orange", "Apple", "Mango"]
var a = fruits.splice(1,2,'Peel')
console.log(a) // ["Orange", "Apple"]
console.log(fruits)  // ["Banana", "Peel", "Mango"]

// 7. array.reverse()
// 用于颠倒数组中元素的顺序
var fruits = ["Banana", "Orange", "Apple", "Mango"]
fruits.reverse()
console.log(fruits) // ["Mango", "Apple", "Orange", "Banana"]

// 8. array.sort(sortfunction) 
// 用于对数组的元素进行排序
var arr = [1,5,9,7,6,3,4,8,2]
arr.sort(function(a,b){
	//return a - b  //从小到大
	return b-a  //从大到小
})
console.log(arr) // [9, 8, 7, 6, 5, 4, 3, 2, 1]

// 9. array.join(separator)      //不改变原数组
// 把数组中的所有元素转换一个字符串,元素是通过指定的分隔符进行分隔的
var arr = [1,2,3,4]
var newArr1 = arr.join()
var newArr2 = arr.join(".")
console.log(arr)     // [1, 2, 3, 4]
console.log(newArr1) // "1,2,3,4"
console.log(newArr2) // "1.2.3.4"

// 10. string.concat(string1, string2, …, stringX)  //不改变原数组
// 字符串,数组都可以用，将参数中的值放到操作的数组后边，返回拼接的数组，如果参数是数组，则先把值提取出来再操作
var arr = [1,2,3,4];
var newArr = arr.concat([5,6,7])
console.log(arr) // [1, 2, 3, 4]
console.log(newArr) // [1, 2, 3, 4, 5, 6, 7]
```
## ES 5 新增的一些数组方法
```js
// 1. string.indexOf(searchvalue,start)
// 字符串，数组都可适用，此方法可返回某个指定的字符串值在字符串中首次出现的位置
// 若一个参数，返回这个参数在数组里面的索引值，如果参数不在操作的数组中，则返回 -1。
var arr = [1,2,3,4];
arr.indexOf(1) // 0
arr.indexOf(5) // -1 

// 2. array.forEach(function(item, index, arr))   （不改变原数组）
// 数组遍历，且只能够遍历数组，不接受返回值或返回值为 undefined，单纯对数组进行循环
// 如果数组中的值为 empty, 则不会执行回调函数
var arr = [1,2,3,4,5];
arr.forEach((item,index,arr)=>{
   // item: 遍历的数组内容
   // index: 对应的数组索引
   // arr: 数组本身
})

// 3. array.map(function(item,index,arr))   （不改变原数组）
// 数组的遍历，用来接收一个返回值，创建一个新数组
var arr = [1,2,3,4,5,6]
var newArr = arr.map(function(item,index,arr){
	return item * 2
})
console.log(arr)  // [1, 2, 3, 4, 5, 6]
console.log(newArr) // [2, 4, 6, 8, 10, 12]


// 4. array.filter(function(item,index,arr))  （不改变原数组）
// 过滤出一些符合条件的元素，返回一个新数组  (返回为true,该元素就进新数组，false反之）
var arr = [32, 33, 16, 40]
var newArr = arr.filter((item,index,arr)=>{
    return item >=18 
})
console.log(arr) // [32, 33, 16, 40]
console.log(newArr) // [32, 33, 40]

// 5. array.some(function(currentValue,index,arr))  （不改变原数组）
// 检测数组中是否含有某一个值，如果数组中有任意一个元素满足给定的条件，结果就为 true否则则为false
var arr = [32, 33, 16, 40]
var newArr = arr.some((item,index,arr)=>{
    return item >= 18 
})
console.log(arr) // [32, 33, 16, 40]
console.log(newArr) // true

// 6. array.every(function(currentValue,index,arr))  （不改变原数组）
// 方法用于检测数组所有元素是否都符合指定条件（通过函数提供）,返回一个布尔值,结果为 true或false
var arr = [32, 33, 16, 40]
var newArr = arr.every((item,index,arr)=>{
    return item >=18 
})
console.log(arr) // [32, 33, 16, 40]
console.log(newArr) // false

// 7. array.reduce(function(total, currentValue, currentIndex, arr))
// 对数组中的所有元素调用指定的回调函数，该回调函数的返回值为累计结果。且把返回值作为下一次回调函数的参数。
var arr = [1,2,3,4,5,6,7,8,9];
var res = arr.reduce((pre,next,index,arr1)=>{
    console.log("pre："+pre)    // 前一个的值 pre： 0 1 3 6 10 15 21 28 36
    console.log("next："+next)  // 后一个的值 next：1 2 3 4 5 6 7 8 9
    console.log('arr1：'+arr1)
    return pre+next
})
console.log("arr："+arr)  // arr：1,2,3,4,5,6,7,8,9
console.log("res："+res)  // res：45
```
## ES 6 数组方法
```js
// 1. includes( ) 检测数组中是否包含一个值。
// 与 Set 和 Map 的 has 方法区分  Set 的 has 方法用于查找值   Map 的 has 方法用于查找键名
[1, 2, 3].includes(1)      // true
[1, 2, 3].includes(1, 2)   // false  搜索的起始索引，默认为
[1, NaN, 3].includes(NaN)  // true

// 2. Array.from(arrayLike[, mapFn[, thisArg]])
// 将类数组对象或可迭代对象转化为数组，比如 arguments，js 选择器找到 dom 集合和对象模拟的数组。
var arr = Array.from([1,[1,2,3],2,,3,])
console.log(arr) // [1, [1, 2, 3], 2, undefined, 3]

// 3. Array.of()  数组创建，将参数中所有值作为元素形成数组，如果参数为空，则返回一个空数组
console.log(Array.of()) // []
console.log(Array.of(1, 2, 3, 4)) // [1, 2, 3, 4]
console.log(Array.of(1, '2', true)) // [1, '2', true] 

// 4. find() 查找数组中符合条件的元素,若有多个符合条件的元素，则返回第一个元素。
let arr = Array.of(1, 2, 3, 4)
console.log(arr.find(item => item > 2)) // 3 
console.log([, 1].find(n => true)) // undefined

// 5. findIndex() 查找数组中符合条件的元素索引，若有多个符合条件的元素，则返回第一个元素索引。
var arr = Array.of(1, 2, 1, 3)
console.log(arr.findIndex(item => item == 1)); // 0
console.log([, 1].findIndex(n => true)); // 0 

// 6. fill() 将一定范围索引的数组元素内容填充为单个指定的值。
// 参数1：用来填充的值
// 参数2：被填充的起始索引
// 参数3(可选)：被填充的结束索引，默认为数组末尾
var arr1 = Array.of(1, 2, 3, 4)
var arr2 = Array.of(1, 2, 3, 4)
console.log(arr1.fill(0,1))   // [1, 0, 0, 0]
console.log(arr2.fill(0,1,3)) // [1, 0, 0, 4]

// 7. … 扩展运算符
var arr = [1, 2],
    arr1 = [...arr] 
console.log(arr1) // [1, 2]
// 数组含空位
var arr2 = [1, , 3],
    arr3 = [...arr2]
console.log(arr3)  // [1, undefined, 3]
//合并数组
console.log([...[1, 2],...[3, 4]]); // [1, 2, 3, 4]
```
## join()
join，就是把数组转换成字符串，然后给他规定个连接字符，默认的是逗号(  ，)
::: tip
书写格式：join(" ")，括号里面写字符串  ("要加引号"),
:::
```js
var arr = [1,2,3];
console.log(arr.join()); 　　　　// 1,2,3
console.log(arr.join("-")); 　　// 1-2-3
console.log(arr); 　　　　　　　　// [1, 2, 3]（原数组不变）
```
## push()和pop()
push():  把里面的内容添加到数组末尾，并返回修改后的长度。
pop()：移除数组最后一项，返回移除的那个值，减少数组的length。
::: tip
书写格式：arr.push(" ")，括号里面写内容  ("字符串要加引号"),
:::
::: tip
书写格式：arr.pop( )
:::
```js
var arr = ["Lily","lucy","Tom"];
var count = arr.push("Jack","Sean");
console.log(count); 　　　　　　　　　　// 5
console.log(arr); 　　　　　　　　　　　// ["Lily", "lucy", "Tom", "Jack", "Sean"]
var item = arr.pop();
console.log(item); 　　　　　　　　　　 // Sean
console.log(arr); 　　　　　　　　　　  // ["Lily", "lucy", "Tom", "Jack"]
```
## shift()和unshift()
shift()：删除原数组第一项，并返回删除元素的值；如果数组为空则返回undefined 。
unshift:将参数添加到原数组开头，并返回数组的长度 。
::: tip
书写格式：arr.shift(" ")，括号里面写内容  ("字符串要加引号"),
:::
```js
var arr = ["Lily","lucy","Tom"];
var count = arr.push("Jack","Sean");
console.log(count); 　　　　　　　　　　// 5
console.log(arr); 　　　　　　　　　　　// ["Lily", "lucy", "Tom", "Jack", "Sean"]
var item = arr.pop();
console.log(item); 　　　　　　　　　　 // Sean
console.log(arr); 　　　　　　　　　　  // ["Lily", "lucy", "Tom", "Jack"]
```
## sort()
sort()：将数组里的项从小到大排序
::: tip
 书写格式：arr.sort( )
:::
```js
var arr1 = ["a", "d", "c", "b"];
console.log(arr1.sort()); 　　　　　　　　　　// ["a", "b", "c", "d"]
```
sort()方法比较的是字符串，没有按照数值的大小对数字进行排序，要实现这一点，就必须使用一个排序函数
```js
function sortNumber(a,b)
{
　　return a - b
}
```
```js
arr = [13, 24, 51, 3]; console.log(arr.sort()); 　　　　　　　　　　// [13, 24, 3, 51] 
console.log(arr.sort(sortNumber)); 　　　　// [3, 13, 24, 51](数组被改变)
```
## reverse()
reverse()：反转数组项的顺序。
::: tip
  书写格式：arr.reverse( )
:::
```js
var arr = [13, 24, 51, 3];
console.log(arr.reverse()); 　　　　　　　　//[3, 51, 24, 13]
console.log(arr); 　　　　　　　　　　　　　　//[3, 51, 24, 13](原数组改变)
```
# concat() 
concat() ：将参数添加到原数组中。这个方法会先创建当前数组一个副本，然后将接收到的参数添加到这个副本的末尾，最后返回新构建的数组。在没有给 concat()方法传递参数的情况下，它只是复制当前数组并返回副本。
::: tip 
书写格式：arr.concat()，括号里面写内容  ("字符串要加引号"),
:::
```js
var arr = [1,3,5,7];
var arrCopy = arr.concat(9,[11,13]);
console.log(arrCopy); 　　　　　　　　　　　　//[1, 3, 5, 7, 9, 11, 13]
console.log(arr); 　　　　　　　　　　　　　　// [1, 3, 5, 7](原数组未被修改)
```
## slice()
slice()：返回从原数组中指定开始下标到结束下标之间的项组成的新数组。slice()方法可以接受一或两个参数，即要返回项的起始和结束位置。在只有一个参数的情况下， slice()方法返回从该参数指定位置开始到当前数组末尾的所有项。如果有两个参数，该方法返回起始和结束位置之间的项——但不包括结束位置的项。
::: tip 
　书写格式：arr.slice( 1 , 3  )
:::
```js
var arr = [1,3,5,7,9,11];
var arrCopy = arr.slice(1);
var arrCopy2 = arr.slice(1,4);
var arrCopy3 = arr.slice(1,-2);
var arrCopy4 = arr.slice(-4,-1);
console.log(arr); 　　　　　　　　　　　　　　//[1, 3, 5, 7, 9, 11](原数组没变)
console.log(arrCopy); 　　　　　　　　　　　 //[3, 5, 7, 9, 11]
console.log(arrCopy2); 　　　　　　　　　　　//[3, 5, 7]
console.log(arrCopy3); 　　　　　　　　　　　//[3, 5, 7]
console.log(arrCopy4); 　　　　　　　　　　　//[5, 7, 9]
```
arrCopy只设置了一个参数，也就是起始下标为1，所以返回的数组为下标1（包括下标1）开始到数组最后。 

arrCopy2设置了两个参数，返回起始下标（包括1）开始到终止下标（不包括4）的子数组。 

arrCopy3设置了两个参数，终止下标为负数，当出现负数时，将负数加上数组长度的值（6）来替换该位置的数，因此就是从1开始到4（不包括）的子数组。 

arrCopy4中两个参数都是负数，所以都加上数组长度6转换成正数，因此相当于slice(2,5)。

## splice()
splice()：删除、插入和替换。
删除：指定 2 个参数：要删除的第一项的位置和要删除的项数。
::: tip
书写格式：arr.splice( 1 , 3  )
:::
插入：可以向指定位置插入任意数量的项，只需提供 3 个参数：起始位置、 0（要删除的项数）和要插入的项。
::: tip
书写格式：arr.splice(  2,0,4,6  )
:::
替换：可以向指定位置插入任意数量的项，且同时删除任意数量的项，只需指定 3 个参数：起始位置、要删除的项数和要插入的任意数量的项。插入的项数不必与删除的项数相等。
::: tip
书写格式：arr.splice(  2,0,4,6  )
:::
```js
var arr = [1,3,5,7,9,11];
var arrRemoved = arr.splice(0,2);
console.log(arr); 　　　　　　　　　　　　　　　//[5, 7, 9, 11]
console.log(arrRemoved); 　　　　　　　　　　　//[1, 3]
var arrRemoved2 = arr.splice(2,0,4,6);
console.log(arr); 　　　　　　　　　　　　　　　// [5, 7, 4, 6, 9, 11]
console.log(arrRemoved2); 　　　　　　　　　　// []
var arrRemoved3 = arr.splice(1,1,2,4);
console.log(arr); 　　　　　　　　　　　　　　　// [5, 2, 4, 4, 6, 9, 11]
console.log(arrRemoved3); 　　　　　　　　　　//[7]
```

## indexOf()和lastIndexOf()
indexOf()：接收两个参数：要查找的项和（可选的）表示查找起点位置的索引。其中， 从数组的开头（位置 0）开始向后查找。
::: tip
书写格式：arr.indexof( 5 )
:::
lastIndexOf()：接收两个参数：要查找的项和（可选的）表示查找起点位置的索引。其中， 从数组的末尾开始向前查找。 
::: tip
书写格式：arr.lastIndexOf(  5,4  )
:::
```js 
var arr = [1,3,5,7,7,5,3,1];
console.log(arr.indexOf(5)); 　　　　　　//2
console.log(arr.lastIndexOf(5)); 　　　 //5
console.log(arr.indexOf(5,2)); 　　　　 //2
console.log(arr.lastIndexOf(5,4)); 　　//2
console.log(arr.indexOf("5")); 　　　　 //-1
```

## forEach()
forEach()：对数组进行遍历循环，对数组中的每一项运行给定函数。这个方法没有返回值。参数都是function类型，默认有传参，参数分别为：遍历的数组内容；第对应的数组索引，数组本身。
::: tip
书写格式：arr.forEach()
:::
```js
var arr = [1, 2, 3, 4, 5];
arr.forEach(function(x, index, a){
console.log(x + '|' + index + '|' + (a === arr));
});
// 输出为：
// 1|0|true
// 2|1|true
// 3|2|true
// 4|3|true
// 5|4|true
```

## map()
map()：指“映射”，对数组中的每一项运行给定函数，返回每次函数调用的结果组成的数组。
::: tip
书写格式：arr.map()
:::
```js
var arr = [1, 2, 3, 4, 5];
var arr2 = arr.map(function(item){
return item*item;
});
console.log(arr2); 　　　　　　　　//[1, 4, 9, 16, 25]
```

## filter()
filter()：“过滤”功能，数组中的每一项运行给定函数，返回满足过滤条件组成的数组。
::: tip
书写格式：arr.filter()
:::
```js
var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
var arr2 = arr.filter(function(x, index) {
return index % 3 === 0 || x >= 8;
}); 
console.log(arr2); 　　　　　　　　//[1, 4, 7, 8, 9, 10]
```

## every()
every()：判断数组中每一项都是否满足条件，只有所有项都满足条件，才会返回true。
::: tip
书写格式：arr.every()
:::
```js
var arr = [1, 2, 3, 4, 5];
var arr2 = arr.every(function(x) {
return x < 10;
}); 
console.log(arr2); 　　　　　　　　//true
var arr3 = arr.every(function(x) {
return x < 3;
}); 
console.log(arr3); 　　　　　　　　// false
```

## some()
some()：判断数组中是否存在满足条件的项，只要有一项满足条件，就会返回true。
::: tip
书写格式：arr.some()
:::
```js
var arr = [1, 2, 3, 4, 5];
var arr2 = arr.every(function(x) {
return x < 10;
}); 
console.log(arr2); 　　　　　　　　//true
var arr3 = arr.every(function(x) {
return x < 3;
}); 
console.log(arr3); 　　　　　　　　// false
```